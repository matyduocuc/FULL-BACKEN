{
	"info": {
		"_postman_id": "library-microservices-2024",
		"name": "Library Microservices API",
		"description": "Colección completa de APIs para el sistema de biblioteca digital",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "User Management Service",
			"item": [
				{
					"name": "Register User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Juan Pérez\",\n  \"email\": \"juan@example.com\",\n  \"password\": \"password123\",\n  \"phone\": \"123456789\"\n}"
						},
						"url": {
							"raw": "http://localhost:8081/api/users/register",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["api", "users", "register"]
						}
					}
				},
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"juan@example.com\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "http://localhost:8081/api/users/login",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["api", "users", "login"]
						}
					}
				},
				{
					"name": "Get User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8081/api/users/{{userId}}",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["api", "users", "{{userId}}"]
						}
					}
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Juan Pérez Actualizado\",\n  \"phone\": \"987654321\"\n}"
						},
						"url": {
							"raw": "http://localhost:8081/api/users/{{userId}}",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["api", "users", "{{userId}}"]
						}
					}
				},
				{
					"name": "Validate Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"{{token}}\"\n}"
						},
						"url": {
							"raw": "http://localhost:8081/api/users/validate-token",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["api", "users", "validate-token"]
						}
					}
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8081/api/users/logout",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["api", "users", "logout"]
						}
					}
				}
			]
		},
		{
			"name": "Book Catalog Service",
			"item": [
				{
					"name": "Create Book",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"El Quijote\",\n  \"author\": \"Miguel de Cervantes\",\n  \"isbn\": \"978-84-376-0494-7\",\n  \"category\": \"Literatura\",\n  \"publisher\": \"Editorial XYZ\",\n  \"year\": 1605,\n  \"description\": \"Obra maestra de la literatura española\",\n  \"totalCopies\": 5,\n  \"price\": 25.99\n}"
						},
						"url": {
							"raw": "http://localhost:8082/api/books",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8082",
							"path": ["api", "books"]
						}
					}
				},
				{
					"name": "Get All Books",
					"request": {
						"method": "GET",
						"url": {
							"raw": "http://localhost:8082/api/books?page=0&size=10&sortBy=title&sortDir=ASC",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8082",
							"path": ["api", "books"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"},
								{"key": "sortBy", "value": "title"},
								{"key": "sortDir", "value": "ASC"}
							]
						}
					}
				},
				{
					"name": "Get Book by ID",
					"request": {
						"method": "GET",
						"url": {
							"raw": "http://localhost:8082/api/books/{{bookId}}",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8082",
							"path": ["api", "books", "{{bookId}}"]
						}
					}
				},
				{
					"name": "Search Books",
					"request": {
						"method": "GET",
						"url": {
							"raw": "http://localhost:8082/api/books/search?q=quijote&page=0&size=10",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8082",
							"path": ["api", "books", "search"],
							"query": [
								{"key": "q", "value": "quijote"},
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				},
				{
					"name": "Check Availability",
					"request": {
						"method": "GET",
						"url": {
							"raw": "http://localhost:8082/api/books/{{bookId}}/availability",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8082",
							"path": ["api", "books", "{{bookId}}", "availability"]
						}
					}
				},
				{
					"name": "Get Featured Books",
					"request": {
						"method": "GET",
						"url": {
							"raw": "http://localhost:8082/api/books/featured?page=0&size=10",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8082",
							"path": ["api", "books", "featured"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						}
					}
				}
			]
		},
		{
			"name": "Loan Management Service",
			"item": [
				{
					"name": "Create Loan",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userId\": 1,\n  \"bookId\": 1,\n  \"loanDays\": 14\n}"
						},
						"url": {
							"raw": "http://localhost:8083/api/loans",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8083",
							"path": ["api", "loans"]
						}
					}
				},
				{
					"name": "Get User Loans",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8083/api/loans/user/{{userId}}",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8083",
							"path": ["api", "loans", "user", "{{userId}}"]
						}
					}
				},
				{
					"name": "Get Active Loans",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8083/api/loans/user/{{userId}}/active",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8083",
							"path": ["api", "loans", "user", "{{userId}}", "active"]
						}
					}
				},
				{
					"name": "Return Loan",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8083/api/loans/{{loanId}}/return",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8083",
							"path": ["api", "loans", "{{loanId}}", "return"]
						}
					}
				},
				{
					"name": "Extend Loan",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8083/api/loans/{{loanId}}/extend",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8083",
							"path": ["api", "loans", "{{loanId}}", "extend"]
						}
					}
				}
			]
		},
		{
			"name": "Notifications Service",
			"item": [
				{
					"name": "Get User Notifications",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8085/api/notifications/user/{{userId}}?unreadOnly=false",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8085",
							"path": ["api", "notifications", "user", "{{userId}}"],
							"query": [
								{"key": "unreadOnly", "value": "false"}
							]
						}
					}
				},
				{
					"name": "Get Unread Count",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8085/api/notifications/user/{{userId}}/unread-count",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8085",
							"path": ["api", "notifications", "user", "{{userId}}", "unread-count"]
						}
					}
				},
				{
					"name": "Mark as Read",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8085/api/notifications/{{notificationId}}/read",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8085",
							"path": ["api", "notifications", "{{notificationId}}", "read"]
						}
					}
				}
			]
		},
		{
			"name": "Reports Service",
			"item": [
				{
					"name": "Get Dashboard Statistics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8084/api/reports/dashboard",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8084",
							"path": ["api", "reports", "dashboard"]
						}
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "token",
			"value": "",
			"type": "string"
		},
		{
			"key": "userId",
			"value": "1",
			"type": "string"
		},
		{
			"key": "bookId",
			"value": "1",
			"type": "string"
		},
		{
			"key": "loanId",
			"value": "1",
			"type": "string"
		},
		{
			"key": "notificationId",
			"value": "1",
			"type": "string"
		}
	]
}

